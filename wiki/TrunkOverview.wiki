#summary This is an overview of the trunk structure and instructions on how to perform a build.

= How to build =

You need to have Java5 or later installed in order to build. Your JAVA_HOME system variable must be set to the location of the JDK. 

On Mac and Linux, run build-ai.sh or build-dist.sh. (A setter for JAVA_HOME is available in the script, which you likely will have to modify if you are not running the .bat on windows)

On Windows, run build-ai.bat or build-dist.bat.

The result will be output to the ./build/ directory.

Note: the build scripts mentioned above will run the default Ant target (build-all). You can also run other targets by specifying the target ID as a parameter.

Note also: If you want to be notified only about warnings and errors, invoke with the `-quiet` option.


= Structure Overview =

*/lib/*

Contains libraries, dependencies.

*/src/*

Main directory for all documents that constitute the actual deliverables.

*/src/rd/* 

Home for Resource Directory source docs. 

Naming requirements for RD source docs: {{{[spec-part-name]-[profilename].rd}}}, example: _z3986a-simplebook.rd_

If a RD source doc contains a {{{ul}}} with id 'normative-schema-modules', the build process will autogenerate a list of schema modules referenced by the main schema.

*/src/rd/res/* 

Home for informative resources referenced from a RD. 

The *rd//res/general/* subdir contains global resources (potentially used by many profiles); these need be copied using explicit Ant copy calls. All children of subdirs with a matching {{{profile-name}}} name will be copied automatically at build time.

*/src/rdf/* 

Home for taxonomies. Vocabs are autogenerated from the taxonomies at build time.

*/src/schema/* 

Home for normative schemas. These are validated (and transformed to informative schemas if possible) at build time.

Naming requirements for normative schemas: {{{[spec-part-name]-[profilename].extension}}}, example: _z3986a-simplebook.rng_

*/src/schema/mod/* 

Home for modules referenced by the normative schemas. 

*/src/spec/* 

Home for the docbook 5 masters of the spec docs. These are validated and transformed (and validated again) at build time.

*/test/*

Home for sample instances. One subfolder per spec part.

Naming requirements for sample instances: {{{[profilename]-[valid|invalid]-[id].extension}}}, example: _genericdocument-valid-01.xml_

These are collected with a naming scheme so that batch runs can be collected without maintaining lists.

*/util/* 

Various utilities used by the build script.