default namespace = "http://www.daisy.org/ns/z3998/authoring/"
namespace a = "http://relaxng.org/ns/compatibility/annotations/1.0"
namespace d =
  "http://www.daisy.org/ns/z3998/authoring/features/description/"
namespace db = "http://docbook.org/ns/docbook"
namespace dcterms = "http://purl.org/dc/terms/"
namespace its = "http://www.w3.org/2005/11/its"
namespace rdf = "http://www.w3.org/1999/02/22-rdf-syntax-ns#"
namespace rdfs = "http://www.w3.org/2000/01/rdf-schema#"
namespace sch = "http://purl.oclc.org/dsdl/schematron"
namespace ssml = "http://www.w3.org/2001/10/synthesis"
namespace x = "http://www.w3.org/1999/xhtml"
namespace xlink = "http://www.w3.org/1999/xlink"
namespace xs = "http://www.w3.org/2001/XMLSchema"
namespace z = "http://www.daisy.org/ns/z3998/annotations/#"
namespace zrng = "http://www.daisy.org/ns/rng/annotations"

db:info [
  xml:lang = "en"
  "\x{a}" ~
  "        "
  db:title [ "The newsfeed aggregator schema " ]
  "\x{a}" ~
  "        "
  db:annotation [
    annotates = "/"
    "\x{a}" ~
    "         "
    db:para [
      "This driver file represents the RelaxNG implementation of the Z39.98-2012 Newsfeed Aggregator Profile, and provides the schematic means of validating conformant documents. "
    ]
    "\x{a}" ~
    "         "
    db:para [
      "More information about this module is available at http://www.daisy.org/z3998/2012/auth/cm/#z3998.newsfeeds.module"
    ]
    "\x{a}" ~
    "      "
  ]
  "\x{a}" ~
  "        "
  db:author [
    "\x{a}" ~
    "            "
    db:personname [ "Markus Gylling" ]
    "\x{a}" ~
    "            "
    db:email [ "mgylling@daisy.org" ]
    "\x{a}" ~
    "        "
  ]
  "\x{a}" ~
  "        "
  db:legalnotice [
    "\x{a}" ~
    "            "
    db:para [
      "This module is licensed under a Creative Commons Attribution 3.0 license, a copy of which is available at \x{a}" ~
      "                "
      db:link [
        xlink:href = "http://creativecommons.org/licenses/by/3.0/"
        "http://creativecommons.org/licenses/by/3.0/"
      ]
      "\x{a}" ~
      "            "
    ]
    "\x{a}" ~
    "            "
    db:para [
      "For complete licensing information, please refer to the LICENSE file that came with this distribution, a copy of which is also available from the DAISY web site at \x{a}" ~
      "                "
      db:link [ xlink:href = "http://www.daisy.org" "www.daisy.org" ]
      "\x{a}" ~
      "            "
    ]
    "\x{a}" ~
    "        "
  ]
  "\x{a}" ~
  "        "
  db:copyright [
    "\x{a}" ~
    "            "
    db:year [ "2009" ]
    "\x{a}" ~
    "            "
    db:year [ "2010" ]
    "\x{a}" ~
    "            "
    db:year [ "2011" ]
    "\x{a}" ~
    "            "
    db:year [ "2012" ]
    "\x{a}" ~
    "            "
    db:holder [ "DAISY Consortium" ]
    "\x{a}" ~
    "        "
  ]
  "\x{a}" ~
  "        "
  db:revhistory [
    "\x{a}" ~
    "            "
    db:revision [
      "\x{a}" ~
      "                "
      db:date [ "2012-12-19" ]
      "\x{a}" ~
      "                "
      db:authorinitials [ "MGy" ]
      "\x{a}" ~
      "                "
      db:revdescription [
        "\x{a}" ~
        "                    "
        db:para [ " Initial version. " ]
        "\x{a}" ~
        "                    "
        db:para [
          " This revision history only reflects changes to the driver file, not to any of the modules included in it. "
        ]
        "\x{a}" ~
        "                "
      ]
      "\x{a}" ~
      "            "
    ]
    "\x{a}" ~
    "        "
  ]
  "\x{a}" ~
  "    "
]
start = z3998.document
z3998.document =
  
  ## The document element is the root element of all Z39.98-AI Profiles. The document element must include an xmlns attribute declaring the Z39.98-AI Core namespace and an 
  ##  xml.lang  attribute specifying the language of the document. 
  element document {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib,
    its.dir.attrib?,
    its.translate.attrib?,
    z3998.role.attrib?,
    rdfa.prefix.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.head,
    z3998.body
  }
z3998.head =
  
  ## The head element contains meta information about the complete or partial document contained in the enclosing 
  ##  document . The meta information in the head element is not document content in the context of Z39.98-AI documents, but may be used for display and other purposes when rendering documents into alternate formats. Refer to 
  ##  Document metadata  for the normative specification of required metadata in head. 
  element head {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    (z3998.meta
     | z3998.description
     | z3998.expansion
     | z3998.definition)+
  }
z3998.body =
  
  ## The body element contains the complete or partial content of the enclosing 
  ##  document . 
  element body {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.h?,
    (z3998.section+ | z3998.article+)
  }
z3998.meta =
  
  ## The meta element expresses metadata information about the document, a document fragment or an external resource associated with the document. The meta element accepts attributes from the 
  ##  RDFa attributes collection  for capturing the metadata information. 
  element meta {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    ((rdfa.rel.attrib, rdfa.resource.attrib, z3998.meta*)
     | (rdfa.rev.attrib, rdfa.resource.attrib, z3998.meta*)
     | (rdfa.property.attrib, rdfa.content.attrib, z3998.meta*)
     | (rdfa.about.attrib,
        rdfa.property.attrib,
        rdfa.content.attrib,
        z3998.meta*)
     | (rdfa.about.attrib,
        rdfa.typeof.attrib,
        rdfa.content.attrib,
        z3998.meta*)
     | (rdfa.property.attrib,
        (text
         | z3998.object.text
         | z3998.sub
         | z3998.sup
         | z3998.span.text
         | z3998.emph.text
         | its-ruby
         | z3998.span
         | z3998.ref
         | z3998.object.phrase
         | z3998.address.phrase
         | z3998.annoref
         | z3998.ln
         | z3998.s
         | z3998.w
         | z3998.w
         | z3998.expansion
         | z3998.abbr
         | z3998.code.phrase
         | z3998.emph
         | z3998.time
         | z3998.name
         | z3998.term
         | z3998.definition
         | z3998.num
         | z3998.quote.phrase
         | z3998.citation
         | z3998.annotation.phrase)+)
     | (rdfa.about.attrib,
        rdfa.property.attrib,
        (text
         | z3998.object.text
         | z3998.sub
         | z3998.sup
         | z3998.span.text
         | z3998.emph.text
         | its-ruby
         | z3998.span
         | z3998.ref
         | z3998.object.phrase
         | z3998.address.phrase
         | z3998.annoref
         | z3998.ln
         | z3998.s
         | z3998.w
         | z3998.w
         | z3998.expansion
         | z3998.abbr
         | z3998.code.phrase
         | z3998.emph
         | z3998.time
         | z3998.name
         | z3998.term
         | z3998.definition
         | z3998.num
         | z3998.quote.phrase
         | z3998.citation
         | z3998.annotation.phrase)+)
     | (rdfa.about.attrib,
        rdfa.typeof.attrib,
        (text
         | z3998.object.text
         | z3998.sub
         | z3998.sup
         | z3998.span.text
         | z3998.emph.text
         | its-ruby
         | z3998.span
         | z3998.ref
         | z3998.object.phrase
         | z3998.address.phrase
         | z3998.annoref
         | z3998.ln
         | z3998.s
         | z3998.w
         | z3998.w
         | z3998.expansion
         | z3998.abbr
         | z3998.code.phrase
         | z3998.emph
         | z3998.time
         | z3998.name
         | z3998.term
         | z3998.definition
         | z3998.num
         | z3998.quote.phrase
         | z3998.citation
         | z3998.annotation.phrase)+)
     | (rdfa.typeof.attrib, z3998.meta*)
     | rdfa.typeof.attrib)
    >> sch:rule [
         context = "default:meta[@content]"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "string-length(normalize-space(@content)) > 0"
           "The meta content attribute must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
sch:rule [
  context = "default:meta[@property='revision']"
  "\x{a}" ~
  "        "
  sch:assert [
    test = "matches(@content, '^\d+(\.\d+)*$')"
    "The revision property value must be a decimal-delimited series of integers when specified. "
  ]
  "\x{a}" ~
  "    "
]
sch:rule [
  context = "default:meta[@property='positionSequence']"
  "\x{a}" ~
  "        "
  sch:assert [
    test = "matches(@content, '^\d+(\.\d+)*$')"
    "The positionSequence property value must be a decimal-delimited series of integers when specified. "
  ]
  "\x{a}" ~
  "    "
]
z3998.ref =
  
  ## The ref element represents a reference to an internal or external entity. The referenced entity is not required to be resolvable or includable in a processing or rendering context: the ref element may point to conceptual or physical items. The ref element may employ attributes from the 
  ##  xlink  attributes collection to specify the nature of the hyperlink, including or excluding expressions of link activation behavior. IDREF link relationships may also be established using the 
  ##  ref  attribute, but not in conjunction with the xlink attributes collection. 
  [
    sch:rule [
      context = "default:ref"
      "\x{a}" ~
      "                "
      sch:report [
        test = "descendant::default:ref"
        "The {ref} element must not contain descendant {ref} elements."
      ]
      "\x{a}" ~
      "                "
      sch:assert [
        test = "normalize-space(.) or *"
        "The ref element must neither be empty nor contain only whitespace. "
      ]
      "\x{a}" ~
      "            "
    ]
  ]
  element ref {
    ((xlink.href.attrib
      & xlink.type.attrib?
      & xlink.title.attrib?
      & xlink.show.attrib?
      & xlink.actuate.attrib?)?
     | z3998.ref.attrib?),
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (z3998.span
     | text
     | z3998.object.text
     | z3998.sub
     | z3998.sup
     | z3998.span.text
     | z3998.emph.text
     | its-ruby
     | z3998.ref
     | z3998.object.phrase
     | z3998.address.phrase
     | z3998.annoref
     | z3998.ln
     | z3998.s
     | z3998.w
     | z3998.w
     | z3998.expansion
     | z3998.abbr
     | z3998.code.phrase
     | z3998.emph
     | z3998.time
     | z3998.name
     | z3998.term
     | z3998.definition
     | z3998.num)+
  }
z3998.ref.attrib =
  
  ## The ref attribute provides a generic mechanism to establish an association between the current element and one or more other elements in the document scope. The ref attribute must contain one or more space separated references to the 
  ##  IDs  of the associated elements. Elements adopting the ref attribute may express constraints on the nature of the referenced elements. 
  attribute ref {
    list { IDREF.datatype+ }
    >> sch:rule [
         context =
           "*[@ref][namespace-uri()='http://www.daisy.org/ns/z3998/authoring/']"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "every $id in tokenize(@ref, '\s+') satisfies count(index-of(tokenize(@ref, '\s+'), $id)) = 1"
           "The ref attribute must not reference the same ID multiple times. "
         ]
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "every $id in tokenize(@ref, '\s+') satisfies //*[@xml:id = $id]"
           "Each IDREF in the ref attribute must reference the ID of another element in the document. "
         ]
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "every $id in tokenize(@ref, '\s+') satisfies not(current() is //*[@xml:id eq $id])"
           "Elements carrying a ref attribute must not reference themselves. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.src.attrib =
  
  ## The src attribute contains a URI reference to an external resource to embed in the document, in place of the current element. Only references to resources that conform to one of the types in the 
  ##  srctype  attribute enumeration are allowed. 
  attribute src { URI.datatype }
z3998.srctype.attrib =
  
  ## The srctype attribute contains a 
  ##  MediaType  expression that identifies the type of resource referenced from the 
  ##  src  attribute. All Z39.98-AI profiles must allow the media types 
  ##  image/png , 
  ##  image/jpeg  and image/bmp. These three image types are jointly referred to as the "core image types". Z39.98-AI features may extend this enumeration to support additional media types. If the srctype attribute is not specified, processing agents must dereference the resource in the src attribute to identify its media type. 
  attribute srctype {
    
    ## The referenced resource is a 
    ##  PNG image . 
    "image/png"
    | 
      ## The referenced resource is a 
      ##  JPEG image . 
      "image/jpeg"
    | 
      ## The referenced resource is a BMP image. 
      "image/bmp"
  }
z3998.continuation.attrib =
  
  ## The continuation attribute provides a generic mechanism to establish a logical continuation of the current element cross one or more other elements in the document scope. The continuation attribute must contain one or more space separated references to the 
  ##  IDs  of the associated elements. Note that the element that carries the continuation attribute must not be referenced in this list. The order in which the references appear in the attribute value is not significant (i.e., the reference order need not match the document order of the referenced elements). Only elements with the same QName as the parent element of the attribute can be referenced (e.g., a paragraph cannot list a table as a continuation). Additionally, only elements following the current element in the document order may be referenced as continuations. Elements that are referenced as continuations must not have continuation attributes themselves. Logical connections allow for special formatting of elements when generating outputs (to establish the connection between emphasis that continues across multiple paragraphs for braille formatting, for example). When the continuation attribute has been attached to an element, all formatting instructions that apply to that element also apply to all the elements referenced in the attribute. Formatting instructions on the logical siblings, however, do not cascade. A processing agent that does not recognize logical connections must be able to process each individual element in the continuation without requiring special knowledge of the elements that came before (i.e., inheritance of formatting cannot be assumed). 
  [
    sch:rule [
      context = "*[@continuation]"
      "\x{a}" ~
      "                "
      sch:assert [
        test =
          "every $id in tokenize(@continuation, '\s+') satisfies count(index-of(tokenize(@continuation, '\s+'), $id)) = 1"
        "The continuation attribute must not reference the same ID multiple times. "
      ]
      "\x{a}" ~
      "                "
      sch:assert [
        test =
          "every $id in tokenize(@continuation, '\s+') satisfies current() << //*[@xml:id eq $id]"
        "Elements referenced by a continuation attribute must be located after the referencing element (i.e., in document order). "
      ]
      "\x{a}" ~
      "                "
      sch:assert [
        test =
          "every $id in tokenize(@continuation, '\s+') satisfies name(//*[@xml:id eq $id]) eq name(current())"
        "Elements referenced by a continuation attribute must have the same QName as the referencing element. "
      ]
      "\x{a}" ~
      "                "
      sch:assert [
        test =
          "every $id in tokenize(@continuation, '\s+') satisfies not(current() is //*[@xml:id eq $id])"
        "Elements carrying a continuation attribute must not reference themselves. "
      ]
      "\x{a}" ~
      "            "
    ]
  ]
  attribute continuation {
    list { IDREF.datatype+ }
  }
z3998.section =
  
  ## The section element represents a structural division of a document. A structural division is defined as any grouping of content that has significance to the hierarchy of the document, which can include major divisions like parts, sections, chapters, etc. or minor divisions like author biographies. 
  element section {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.depth.attrib?,
    z3998.h?,
    (z3998.section+ | z3998.article+)
  }
z3998.h =
  
  ## The h element represents a structural heading. The h element is strongly associated with the 
  ##  section  element and its specializations. Each section typically allows zero or one h element child. 
  element h {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((z3998.span
      | text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num)++)
    >> sch:rule [
         context = "default:h"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The h element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.hd =
  
  ## The hd element represents a free-floating heading that is not associated with the hierarchical structure of the document. The 
  ##  ref  attribute may be used to associate an hd element with a construct that it acts as a heading for. 
  element hd {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    z3998.ref.attrib?,
    ((z3998.span
      | text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num)+)
    >> sch:rule [
         context = "default:hd"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The hd element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.block =
  
  ## The block element establishes an association between a group of elements. The block element differs and is subordinate to the 
  ##  section  element in that it is not used to represent the structural outline of a document. A block only establishes a general association, and is a semantically neutral element by default. Attributes attached to the block reflect a general commonality amongst the children: a 
  ##  role  attribute can be attached to express the semantic nature of the grouping; a 
  ##  class  attribute to establish common formatting; an 
  ##  xml.lang  attribute to indicate the language of the elements; and so forth. If the children of the block have a strong association to a single element, the 
  ##  block.associate  attribute can be used to make this relationship explicit (e.g., in a figure, that all children are connected to the image). 
  element block {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    z3998.block.associate.attrib?,
    ((z3998.hd
      | z3998.block
      | z3998.p
      | z3998.list
      | z3998.table
      | z3998.quote.block
      | z3998.citation.block
      | z3998.object.block
      | z3998.address
      | z3998.annotation
      | z3998.caption
      | z3998.code.block
      | z3998.description
      | z3998.feature.description)+
     | (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby
        | z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:block"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The block element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.block.associate.attrib =
  
  ## The associate attribute identifies the child element of a 
  ##  block  to which all other children are bound. The associate attribute takes a single IDREF that must point to one of its children as a value. All the other children assume an implict reference to the element through this value, allowing the 
  ##  ref  attribute to be omitted from them. 
  attribute associate {
    IDREF.datatype
    >> sch:rule [
         context = "*[@associate]"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "child::*[@xml:id = current()/@associate]"
           "The IDREF in the associate attribute must reference the ID of a child element. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.p =
  
  ## The p element represents a paragraph of text consisting of one or several sentences. The 
  ##  class  attribute together with a CSS stylesheet should be used to retain any formatting information specific to a paragraph, such as first line indenting. When print layout has to be strictly followed in converting a document to electronic format, paragraphs may be split by other elements such as full page images. Refer to the 
  ##  continuation  attribute for more information on how to indicate that two p elements actually constitute a single whole. 
  element p {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.span
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num
      | z3998.quote.phrase
      | z3998.citation
      | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:p"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The p element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.list =
  
  ## The list element represents a simple list of items, either ordered or unordered. The optional type attribute specifies the HTML-style ordered and unordered nature of the list. By default, an unordered list is prefixed by bullets and an ordered list by numeric values. To change this behavior, refer to the Content Rendition feature's 
  ##  prefix  attributes. If the type attribute is omitted, then there is no default formatting. The list element is not intended to structure semantically meaningful sets of entries as found in indexes, bibliographies and glossaries. 
  element list {
    (xml.id.attrib?
     & xml.space.attrib?
     & xml.base.attrib?
     & z3998.class.attrib?
     & xml.lang.attrib?
     & its.dir.attrib?
     & its.translate.attrib?
     & rdfa.about.attrib?
     & rdfa.content.attrib?
     & rdfa.datatype.attrib?
     & rdfa.typeof.attrib?
     & rdfa.property.attrib?
     & rdfa.rel.attrib?
     & rdfa.resource.attrib?
     & rdfa.rev.attrib?
     & z3998.desc.attrib?
     & z3998.by.attrib?
     & z3998.role.attrib?
     & z3998.continuation.attrib?
     & ((z3998.list.type.ordered.attrib, z3998.list.start.attrib?)
        | z3998.list.type.unordered.attrib
        | empty)
     & z3998.depth.attrib?),
    (z3998.list.item.block+)
  }
z3998.list.type.unordered.attrib &=
  
  ## Specifies whether the items in the list are ordered or unordered. 
  attribute type {
    
    ## The order of the items in this list is insignificant. 
    "unordered"
  }
z3998.list.type.ordered.attrib &=
  
  ## Specifies whether the items in the list are ordered or unordered. 
  attribute type {
    
    ## The order of the items in this list is significant. 
    "ordered"
  }
z3998.list.start.attrib =
  
  ## The start attribute specifies the ordinal value for the first list item's prefix. If omitted, the implicit value 1 is assumed. This attribute is only valid when used with ordered lists (as defined by the presence and value of the type attribute). 
  attribute start { Integer.datatype }
z3998.list.item.block =
  
  ## The item element represents a single item in a list. The number or glyph that appears before the item is typically controlled by the attributes specified on the parent 
  ##  list  element together with the number of preceding items. The Content Rendition feature's 
  ##  prefix  attribute allows this default behaviour to be overridden for individual items, however. 
  element item {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((z3998.hd
      | z3998.block
      | z3998.p
      | z3998.list
      | z3998.table
      | z3998.quote.block
      | z3998.citation.block
      | z3998.object.block
      | z3998.address
      | z3998.annotation
      | z3998.caption
      | z3998.code.block
      | z3998.description
      | z3998.feature.description)+
     | (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby
        | z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:item"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The item element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.table =
  
  ## The table element represents a single instance of tabular data arranged in rows and columns. A table may consist of one or more tr elements or may be divided into 
  ##  table.thead , 
  ##  table.tbody  and 
  ##  table.tfoot  divisions. A table may contain one or more 
  ##  table.colgroup  elements, for expressing common column formatting and properties. 
  element table {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (z3998.table.tr.tr)+
  }
z3998.table.th =
  
  ## The th element represents a single table cell containing header information. The optional 
  ##  table.scope  attribute can be used to express the column(s) or row(s) to which the header applies. 
  element th {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    z3998.table.colspan.attrib?,
    z3998.table.rowspan.attrib?,
    z3998.table.headers.attrib?,
    z3998.table.scope.attrib?,
    z3998.table.th.abbr.attrib?,
    ((z3998.hd
      | z3998.block
      | z3998.p
      | z3998.list
      | z3998.table
      | z3998.quote.block
      | z3998.citation.block
      | z3998.object.block
      | z3998.address
      | z3998.annotation
      | z3998.caption
      | z3998.code.block
      | z3998.description
      | z3998.feature.description)+
     | (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby
        | z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase)+)
  }
z3998.table.th.abbr.attrib =
  
  ## The abbr attribute specifies an abbreviated header value. 
  attribute abbr { text }
z3998.table.td =
  
  ## The td element represents a single table cell. The optional 
  ##  table.colspan  and 
  ##  table.rowspan  attributes can be used to specify that a column extends across or down more than one cell, respectively. The optional 
  ##  table.scope  attribute can be used to express that the current cell represents a header for columns(s) or row(s) defined by the attribute's value. 
  element td {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    z3998.table.colspan.attrib?,
    z3998.table.rowspan.attrib?,
    z3998.table.headers.attrib?,
    z3998.table.scope.attrib?,
    ((z3998.hd
      | z3998.block
      | z3998.p
      | z3998.list
      | z3998.table
      | z3998.quote.block
      | z3998.citation.block
      | z3998.object.block
      | z3998.address
      | z3998.annotation
      | z3998.caption
      | z3998.code.block
      | z3998.description
      | z3998.feature.description
      | z3998.ln)+
     | (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby
        | z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase)+)
  }
z3998.table.colspan.attrib =
  
  ## The colspan attribute specifies the number of columns spanned by the current cell. The implicit value of this attribute is 1. The value 0 indicates that the cell spans all columns from the current column to the last column of the 
  ##  table.colgroup  in which the cell is defined. 
  attribute colspan { NonNegativeInteger.datatype }
z3998.table.rowspan.attrib =
  
  ## The rowspan attribute specifies the number of rows spanned by the current cell. The implicit value of this attribute is 1. The value 0 indicates that the cell spans all rows from the current row to the last row of the current table section (rowgroup) in which the cell is defined (where the 
  ##  table.thead , 
  ##  table.tbody , and 
  ##  table.tfoot  elements are considered rowgroups). 
  attribute rowspan { NonNegativeInteger.datatype }
z3998.table.scope.attrib =
  
  ## The scope attribute specifies the set of data cells for which the current header cell provides header information. This attribute may be used in place of the 
  ##  table.headers  attribute, especially for simple tables. 
  attribute scope {
    
    ## The current cell provides header information for the rest of the row that contains it. 
    "row"
    | 
      ## The current cell provides header information for the rest of the column that contains it. 
      "col"
    | 
      ## The header cell provides header information for the rest of the row group that contains it. 
      "rowgroup"
    | 
      ## The header cell provides header information for the rest of the column group that contains it. 
      "colgroup"
  }
z3998.table.headers.attrib =
  
  ## The headers attribute specifies the list of header cells that provide header information for the current data cell. This attribute requires a space separated list of valid 
  ##  ID  references that resolves to 
  ##  th  elements. 
  attribute headers {
    list { IDREF.datatype+ }
    >> sch:rule [
         context = "default:*[@headers]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "every $idref in tokenize(current()/@headers,'\s+') satisfies ancestor::default:table[not(descendant::default:table)]//default:th[@xml:id=$idref]"
           "The headers attribute must resolve to a th in the current table. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.quote.block =
  
  ## The quote element represents a quotation from a real or fictitious source. When citing the source of a quotation, the 
  ##  citation  must be explicitly linked to the quote by means of the 
  ##  ref  attribute. If a quote element contains only a single child citation element, and the citation does not contain a ref attribute or child 
  ##  ref  element, the association between the two elements is implied. If a quote does not contain a citation, it can still be linked to the work it is cited from by attaching a 
  ##  ref  attribute referencing an entry in a 
  ##  bibliography , for example. To reference other resources, including resources external to the current document, the 
  ##  xlink.href  attribute must be used. The 
  ##  role  attribute optionally expresses the semantic nature of the quote. The role value epigraph, for example, indicates the quoted passage or verse represents an epigraph for the document or section. 
  element quote {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (z3998.ref.attrib
     | (xlink.href.attrib
        & xlink.type.attrib?
        & xlink.title.attrib?
        & xlink.show.attrib?
        & xlink.actuate.attrib?))?,
    (
     ## specialize the block model to allow linegroups and lines 
     (z3998.hd
      | z3998.block
      | z3998.p
      | z3998.list
      | z3998.table
      | z3998.quote.block
      | z3998.citation.block
      | z3998.object.block
      | z3998.address
      | z3998.annotation
      | z3998.caption
      | z3998.code.block
      | z3998.description
      | z3998.feature.description
      | z3998.lngroup
      | z3998.ln)+
     | (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby
        | z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:quote"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The quote element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.quote.phrase =
  
  ## The quote element represents a quotation from a real or fictitious source. When citing the source of a quotation, the 
  ##  citation  must be explicitly linked to the quote by means of the 
  ##  ref  attribute. If a quote element contains only a single child citation element, and the citation does not contain a ref attribute or child 
  ##  ref  element, the association between the two elements is implied. If a quote does not contain a citation, it can still be linked to the work it is cited from by attaching a 
  ##  ref  attribute referencing an entry in a 
  ##  bibliography , for example. To reference other resources, including resources external to the current document, the 
  ##  xlink.href  attribute must be used. The 
  ##  role  attribute optionally expresses the semantic nature of the quote. The role value epigraph, for example, indicates the quoted passage or verse represents an epigraph for the document or section. Quotation marks should be included within the element if they must be retained in the file. The use of CSS for appending these characters is recommended, however, for the flexibility it allows to change the characters depending on the desired output. 
  element quote {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (z3998.ref.attrib
     | (xlink.href.attrib
        & xlink.type.attrib?
        & xlink.title.attrib?
        & xlink.show.attrib?
        & xlink.actuate.attrib?))?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.span
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num
      | z3998.quote.phrase
      | z3998.citation
      | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:quote"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The quote element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.citation.block =
  
  ## The citation element represents an author's acknowledgment of the original author and/or work of a directly or indirectly borrowed idea, quote or other resource. Citations typically occur in conjunction with epigraphs, quotes, illustrations, charts and diagrams. The Block variant is an adaptation for use where the citation is offset from the quoted material. The optional 
  ##  ref  attribute on the citation element is used to establish an explicit association between the citation and the passage or resource it references; the placement of the citation does not, by default, imply an association with any element in the document. Some elements do provide a mechanism for implied relationships, however (see the 
  ##  quote  element, for example). When adding citations, refer to the documentation for the element the citation is being attached to for more information. A citation can also be linked to the work it cites by including a child 
  ##  ref  element. A 
  ##  ref  attribute can be attached to the nested ref element to reference a work in the current document's 
  ##  bibliography , for example. To reference other resources, including resources external to the current document, the 
  ##  xlink.href  attribute must be used instead. 
  element citation {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (z3998.ref.attrib
     | (xlink.href.attrib
        & xlink.type.attrib?
        & xlink.title.attrib?
        & xlink.show.attrib?
        & xlink.actuate.attrib?))?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.span
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num
      | z3998.quote.phrase
      | z3998.citation
      | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:citation"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The citation element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:citation//default:ref[@ref]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "some $entry in //default:bibliography/default:entry satisfies current()/@ref eq $entry/@xml:id "
           "The ref attribute on the ref element must refer to an entry in a bibliography when nested inside a citation element. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.citation =
  
  ## The citation element represents an author's acknowledgment of the original author and/or work of a directly or indirectly borrowed idea, quote or other resource. Citations typically occur in conjunction with epigraphs, quotes, illustrations, charts and diagrams. The Phrase variant is an adaptation for use where citations are included inline with the quoted material. The optional 
  ##  ref  attribute on the citation element is used to establish an explicit association between the citation and the passage or resource it references; the placement of the citation does not, by default, imply an association with any element in the document. Some elements do provide a mechanism for implied relationships, however (see the 
  ##  quote  element, for example). When adding citations, refer to the documentation for the element the citation is being attached to for more information. A citation can also be linked to the work it cites by including a child 
  ##  ref  element. A 
  ##  ref  attribute can be attached to the nested ref element to reference a work in the current document's 
  ##  bibliography , for example. To reference other resources, including resources external to the current document, the 
  ##  xlink.href  attribute must be used instead. Parentheses, brackets and other enclosing characters should be included within the citation element if they must be retained in the file. The use of CSS for appending these characters is recommended, however, for the flexibility it allows to change the characters depending on the desired output. 
  element citation {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (z3998.ref.attrib
     | (xlink.href.attrib
        & xlink.type.attrib?
        & xlink.title.attrib?
        & xlink.show.attrib?
        & xlink.actuate.attrib?))?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.span
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num
      | z3998.quote.phrase
      | z3998.citation
      | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:citation"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The citation element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:citation//default:ref[@ref]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "some $entry in //default:bibliography/default:entry satisfies current()/@ref eq $entry/@xml:id "
           "The ref attribute on the ref element must refer to an entry in a bibliography when nested inside a citation element. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.object.block =
  
  ## The object element contains a reference to an external resource, such as a graphic or video. The Block variant is an adaptation for use embedding objects that are intended to be offset from any surrounding block elements. The referenced resource may be an image, video, XML text, or other content, but its media type must be supported by the current profile and features in use. The optional srctype attribute carries an enumeration of the allowed media types. The formal behavior of the object element is defined by 
  ##  XHTML 1.1 . 
  element object {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    z3998.src.attrib,
    z3998.srctype.attrib?,
    (empty
     | z3998.description
     | (z3998.hd
        | z3998.block
        | z3998.p
        | z3998.list
        | z3998.table
        | z3998.quote.block
        | z3998.citation.block
        | z3998.object.block
        | z3998.address
        | z3998.annotation
        | z3998.caption
        | z3998.code.block
        | z3998.description)+
     | (z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | text)+)
    >> sch:rule [
         context = "default:object"
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "descendant::*[namespace-uri(.) = 'http://www.w3.org/1998/Math/MathML']"
           "The {object} element must not contain descendant elements from the MathML feature grammar."
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.object.phrase =
  
  ## The object element contains a reference to an external resource, such as a graphic or video. The Phrase variant is an adaption for use embedding objects in phrasal constructs. The referenced resource may be an image, video, XML text, or other content, but its media type must be supported by the current profile and features in use. The optional srctype attribute carries an enumeration of the allowed media types. The formal behavior of the object element is defined by 
  ##  XHTML 1.1 . 
  element object {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    z3998.src.attrib,
    z3998.srctype.attrib?,
    (empty
     | z3998.description.phrase
     | (z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | text)+)
    >> sch:rule [
         context = "default:object"
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "descendant::*[namespace-uri(.) = 'http://www.w3.org/1998/Math/MathML']"
           "The {object} element must not contain descendant elements from the MathML feature grammar."
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.object.text =
  
  ## The object element contains a reference to an external resource, such as a graphic or video. The Text variant is an adaption for use representing objects at the character level. The referenced resource may be an image, video, XML text, or other content, but its media type must be supported by the current profile and features in use. The optional srctype attribute carries an enumeration of the allowed media types. The formal behavior of the object element is defined by 
  ##  XHTML 1.1 . 
  element object {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.src.attrib,
    z3998.srctype.attrib?,
    (empty
     | z3998.description.text
     | (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby)+)
    >> sch:rule [
         context = "default:object"
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "descendant::*[namespace-uri(.) = 'http://www.w3.org/1998/Math/MathML']"
           "The {object} element must not contain descendant elements from the MathML feature grammar."
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.address =
  
  ## The address element represents both physical locations (postal, geographic, etc.) and virtual locations (http, email, ftp, etc.). The Block variant is an adaptation for use marking multi-line addresses (e.g., postal addresses). The 
  ##  role  attribute optionally expresses the type of address. If omitted, the implicit value postal is assumed. 
  element address {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.address.role.attrib?,
    z3998.ref.attrib?,
    (xlink.href.attrib
     & xlink.type.attrib?
     & xlink.title.attrib?
     & xlink.show.attrib?
     & xlink.actuate.attrib?)?,
    ((z3998.lngroup | z3998.ln)+)
    >> sch:rule [
         context = "default:address"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The address element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.address.role.attrib =
  attribute role {
    list { CURIE.datatype+ }
  }
z3998.address.phrase =
  
  ## The address element represents both physical locations (postal, geographic, etc.) and virtual locations (http, email, ftp, etc.). The Phrase variant is an adaptation for use for addresses that are embedded within the text flow (typically web and email addresses). The 
  ##  role  attribute optionally expresses the type of address. If omitted, the implicit value postal is assumed. 
  element address {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.address.role.attrib?,
    (xlink.href.attrib
     & xlink.type.attrib?
     & xlink.title.attrib?
     & xlink.show.attrib?
     & xlink.actuate.attrib?)?,
    ((z3998.hd
      | z3998.block
      | z3998.p
      | z3998.list
      | z3998.table
      | z3998.quote.block
      | z3998.citation.block
      | z3998.object.block
      | z3998.address
      | z3998.annotation
      | z3998.caption
      | z3998.code.block
      | z3998.description
      | z3998.feature.description)+
     | (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby
        | z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:address"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The address element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.annotation =
  
  ## The annotation element represents an annotation that an author, editor, publisher, or other individual or agency has added to a document. Unless an annotation element has a 
  ##  role  value of temporary, it must reference at least one element in the document using the 
  ##  ref  attribute or be referenced by at least one 
  ##  annoref . For annotations that apply to more than one element, use a space-separated list of xml:id values in the ref attribute. The 
  ##  ref  attribute identifies the specific element(s) being annotated by referencing their xml:id values. The annotation element should not be used to add descriptions, footnotes or endnotes. Refer to the 
  ##  description  and 
  ##  note  elements for more information. 
  element annotation {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.annotation.role.attrib?,
    z3998.ref.attrib?,
    ((z3998.hd
      | z3998.block
      | z3998.p
      | z3998.list
      | z3998.table
      | z3998.quote.block
      | z3998.citation.block
      | z3998.object.block
      | z3998.address
      | z3998.annotation
      | z3998.caption
      | z3998.code.block
      | z3998.description
      | z3998.feature.description)+
     | (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby
        | z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:annotation[not(@role='temporary')]"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "key('annorefs', @xml:id) or id(current()/@ref)"
           "The annotation element must be referenced by an annoref or reference another element in the document unless it has the role value temporary. "
         ]
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The annotation element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:annotation[@role='temporary']"
         role = "warning"
         "\x{a}" ~
         "                "
         sch:report [
           test = "."
           "Annotations with a {role} value of {temporary} must be removed prior to document finalization."
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.annotation.phrase =
  
  ## The annotation element represents an annotation that an author, editor, publisher, or other individual or agency has added to a document. The inline inclusion of annotation elements does not influence the rendering of the annotations or reflect their appearance in a print medium; inlining allows annotations to be included as close to their referenced element as is desired. It is equally valid for Block-layer annotations to reference inline elements. Unless an annotation element has a 
  ##  role  value of temporary, it must reference at least one element in the document using the 
  ##  ref  attribute or be referenced by at least one 
  ##  annoref . For annotations that apply to more than one element, use a space-separated list of xml:id values in the ref attribute. The 
  ##  ref  attribute identifies the specific element(s) being annotated by referencing their xml:id values. The annotation element should not be used to add descriptions, footnotes or endnotes. Refer to the 
  ##  description  and 
  ##  note  elements for more information. 
  element annotation {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.annotation.role.attrib?,
    z3998.ref.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.span
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num
      | z3998.quote.phrase
      | z3998.citation
      | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:annotation[not(@role='temporary')]"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "key('annorefs', @xml:id) or id(current()/@ref)"
           "The annotation element must be referenced by an annoref or reference another element in the document unless it has the role value temporary. "
         ]
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The annotation element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:annotation[@role='temporary']"
         role = "warning"
         "\x{a}" ~
         "                "
         sch:report [
           test = "."
           "Annotations with a {role} value of {temporary} must be removed prior to document finalization."
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.annotation.role.attrib =
  attribute role {
    list { CURIE.datatype+ }
  }
z3998.annoref =
  
  ## The annoref element represents a textual reference to an 
  ##  annotation . Although not as common as with footnotes and endnotes, the content or location in the document being annotated may be noted by a text referent (e.g., a superscripted symbol). By default, the text content of the annoref represents the link reference and is treated as document content. When superscripted numbers or symbols are instead used to identify the corresponding annotation, the 
  ##  annoref.value  attribute should be used. The annoref must be an empty element when attaching a value attribute; it it not permitted to include text content and a value attribute. The 
  ##  ref  attribute is used to establish the link between the annoref and its associated annotation. 
  element annoref {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    z3998.ref.attrib,
    z3998.annoref.value.attrib?,
    (empty
     | (z3998.span
        | text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num)+)
    >> sch:rule [
         context = "default:annoref"
         "\x{a}" ~
         "                "
         sch:report [
           test = "@value and (count(*|text()[normalize-space()]) > 0)"
           "The {value} attribute cannot be used on a non-empty {annoref}."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "not(@value) and (count(*|text()[normalize-space()]) = 0)"
           "An empty {annoref} element must include a {value} attribute."
         ]
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "every $ref in tokenize(current()/@ref, ' +') satisfies key('annotations', $ref)"
           "The IDREF(s) in the ref attribute must resolve to annotations. "
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:annoref"
         role = "warning"
         "\x{a}" ~
         "                "
         sch:report [
           role = "warning"
           test =
             "(count(node()[normalize-space()]) = 1) and child::default:sup"
           "Superscripted referents should be included in a {value} attribute, not as text content."
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.annoref.value.attrib =
  
  ## The annoref value attribute provides the number or symbol that represents the current annotation reference. The value attribute allows any text string as an identifier. 
  attribute value { NonEmptyString.datatype }
z3998.caption =
  
  ## The caption element represents a short explanation or description accompanying a component of a publication. Captions most often occur in conjunction with illustrations, photographs, tables and diagrams. The 
  ##  ref  attribute identifies the component(s) to which the caption applies. 
  element caption {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    z3998.ref.attrib?,
    ((z3998.hd
      | z3998.block
      | z3998.p
      | z3998.list
      | z3998.table
      | z3998.quote.block
      | z3998.citation.block
      | z3998.object.block
      | z3998.address
      | z3998.annotation
      | z3998.caption
      | z3998.code.block
      | z3998.description
      | z3998.feature.description)+
     | (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby
        | z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:caption"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "not(child::default:caption)"
           "The caption element must not contain child caption elements. "
         ]
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The caption element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.description =
  
  ## The description element represents an alternate accessible description of an image, video, table, etc. The Block variant is an adaption for use embedding descriptions in other Block-layer elements and for grouping descriptions in Section-layer elements (for example, in the document 
  ##  head , where they can be referenced globally). The description element can either contain the text content of the description or reference an external file in which it can be found via the 
  ##  xlink.href  attribute. It is not permitted to mix both methods, however. To ensure the description can be rendered, the description element must not include descendant elements and attributes that require a description. 
  element description {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.description.role.attrib?,
    z3998.ref.attrib?,
    (xlink.href.attrib
     & xlink.type.attrib?
     & xlink.title.attrib?
     & xlink.show.attrib?
     & xlink.actuate.attrib?)?,
    (empty
     | (z3998.hd
        | z3998.block
        | z3998.p
        | z3998.list
        | z3998.table
        | z3998.quote.block
        | z3998.citation.block
        | z3998.object.block
        | z3998.address
        | z3998.annotation
        | z3998.caption
        | z3998.code.block
        | z3998.description)+
     | (z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | text)+)
    >> sch:rule [
         context = "default:description"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "(normalize-space(.) or *) or @xlink:href"
           "The description element must either contain text data or point to an external resource using the xlink:href attribute. "
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test = "(normalize-space(.) or *) and @xlink:href"
           "The {description} element must not contain text data and also point to an external resource using the {xlink:href} attribute."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test = "descendant::default:description"
           "The {description} element must not contain descendant {description} elements."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test = "descendant::default:object"
           "The {description} element must not contain descendant {object} elements."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test = "descendant::default:table"
           "The {description} element must not contain descendant {table} elements."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "descendant::*[namespace-uri(.) = 'http://www.w3.org/1998/Math/MathML']"
           "The {description} element must not contain descendant elements from the MathML feature grammar."
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:description[not(parent::default:object)]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "key('descrefs', current()/@xml:id) or key('descrefs', current()/@sel:selid)"
           "Every description element must be referenced by at least one element in the document. "
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:object"
         "\x{a}" ~
         "                "
         sch:report [
           test = "count(descendant::default:description) > 1"
           "The {object} element may contain only one child {description}."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "not(child::default:description) and descendant::default:description"
           "{description} elements cannot be nested inside the children of an {object} element."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "child::default:description and count(child::node()[normalize-space(.)]) > 1"
           "A single {description} element must be the only child of an {object} element when used."
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.description.phrase =
  
  ## The description element represents an alternate accessible description of an image, video, table, etc. The description element can either contain the text content of the description or reference an external file in which it can be found via the 
  ##  xlink.href  attribute. It is not permitted to mix both methods, however. To ensure the description can be rendered, the description element must not include descendant elements and attributes that require a description. 
  element description {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.description.role.attrib?,
    z3998.ref.attrib,
    (xlink.href.attrib
     & xlink.type.attrib?
     & xlink.title.attrib?
     & xlink.show.attrib?
     & xlink.actuate.attrib?)?,
    (empty
     | (z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | text)+)
    >> sch:rule [
         context = "default:description"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "(normalize-space(.) or *) or @xlink:href"
           "The description element must either contain text data or point to an external resource using the xlink:href attribute. "
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test = "(normalize-space(.) or *) and @xlink:href"
           "The {description} element must not contain text data and also point to an external resource using the {xlink:href} attribute."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test = "descendant::default:description"
           "The {description} element must not contain descendant {description} elements."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test = "descendant::default:object"
           "The {description} element must not contain descendant {object} elements."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test = "descendant::default:table"
           "The {description} element must not contain descendant {table} elements."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "descendant::*[namespace-uri(.) = 'http://www.w3.org/1998/Math/MathML']"
           "The {description} element must not contain descendant elements from the MathML feature grammar."
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:description[not(parent::default:object)]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "key('descrefs', current()/@xml:id) or key('descrefs', current()/@sel:selid)"
           "Every description element must be referenced by at least one element in the document. "
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:object"
         "\x{a}" ~
         "                "
         sch:report [
           test = "count(descendant::default:description) > 1"
           "The {object} element may contain only one child {description}."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "not(child::default:description) and descendant::default:description"
           "{description} elements cannot be nested inside the children of an {object} element."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "child::default:description and count(child::node()[normalize-space(.)]) > 1"
           "A single {description} element must be the only child of an {object} element when used."
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.description.role.attrib =
  attribute role {
    list { CURIE.datatype+ }
  }
z3998.description.text =
  
  ## The description element represents an alternate accessible description of an image, video, table, etc. The description element can either contain the text content of the description or reference an external file in which it can be found via the 
  ##  xlink.href  attribute. It is not permitted to mix both methods, however. To ensure the description can be rendered, the description element must not include descendant elements and attributes that require a description. 
  element description {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.description.role.attrib?,
    z3998.ref.attrib,
    (xlink.href.attrib
     & xlink.type.attrib?
     & xlink.title.attrib?
     & xlink.show.attrib?
     & xlink.actuate.attrib?)?,
    (empty
     | (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby)+)
    >> sch:rule [
         context = "default:description"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "(normalize-space(.) or *) or @xlink:href"
           "The description element must either contain text data or point to an external resource using the xlink:href attribute. "
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test = "(normalize-space(.) or *) and @xlink:href"
           "The {description} element must not contain text data and also point to an external resource using the {xlink:href} attribute."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test = "descendant::default:description"
           "The {description} element must not contain descendant {description} elements."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test = "descendant::default:object"
           "The {description} element must not contain descendant {object} elements."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test = "descendant::default:table"
           "The {description} element must not contain descendant {table} elements."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "descendant::*[namespace-uri(.) = 'http://www.w3.org/1998/Math/MathML']"
           "The {description} element must not contain descendant elements from the MathML feature grammar."
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:description[not(parent::default:object)]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "key('descrefs', current()/@xml:id) or key('descrefs', current()/@sel:selid)"
           "Every description element must be referenced by at least one element in the document. "
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:object"
         "\x{a}" ~
         "                "
         sch:report [
           test = "count(descendant::default:description) > 1"
           "The {object} element may contain only one child {description}."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "not(child::default:description) and descendant::default:description"
           "{description} elements cannot be nested inside the children of an {object} element."
         ]
         "\x{a}" ~
         "                "
         sch:report [
           test =
             "child::default:description and count(child::node()[normalize-space(.)]) > 1"
           "A single {description} element must be the only child of an {object} element when used."
         ]
         "\x{a}" ~
         "            "
       ]
  }

## The desc attribute establishes the connection between the current element and its associated accessible 
##  description (s). The desc attribute must contain one or more space separated references to the 
##  IDs  of the associated descriptions. Features may extend the use of this attribute, but not override the requirement that it resolve to a description. The 
##  Z39.98-2012 Content Selection feature , for example, provides a mechanism for pointing to a description based on the format being rendered. 
z3998.desc.attrib =
  attribute desc {
    list { NCName.datatype+ }
  }
  >> sch:rule [
       context = "default:*[@desc]"
       "\x{a}" ~
       "            "
       sch:assert [
         test =
           "every $descref in tokenize(current()/@desc,'\s+') satisfies key('descriptions', $descref)"
         "Every IDREF in the desc attribute must resolve to a description element. "
       ]
       "\x{a}" ~
       "        "
     ]
z3998.span =
  
  ## The span element represents an arbitrary phrase of text. The span element is similar to the 
  ##  block  element in that only acts a container for its child content. It is a semantically neutral element by default, but may express some other commonality between the elements such as formatting or language. To convey a semantic connection between the child content, the optional 
  ##  role  attribute must be attached. 
  element span {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.span.role.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.span
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num
      | z3998.quote.phrase
      | z3998.citation
      | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:span"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The span element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.span.role.attrib =
  attribute role {
    list { CURIE.datatype+ }
  }
z3998.span.text =
  
  ## The span element represents an arbitrary phrase of text. The span element is similar to the 
  ##  block  element in that only acts a container for its child content. It is a semantically neutral element by default, but may express some other commonality between the elements such as formatting or language. To convey a semantic connection between the child content, the optional 
  ##  role  attribute must be attached. 
  element span {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.span.role.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby)+)
    >> sch:rule [
         context = "default:span"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The span element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.ln =
  
  ## The ln element represents a single line of text. The 
  ##  lnum  element can be added to the start of the ln to represent numbered lines. 
  element ln {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.span
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num
      | z3998.quote.phrase
      | z3998.citation
      | z3998.annotation.phrase)+
     & z3998.lnum?)
    >> sch:rule [
         context = "default:ln"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "not(descendant::default:ln)"
           "The ln element must not contain descendant ln elements. "
         ]
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The ln element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.lnum =
  
  ## The lnum element represents the line number of the parent 
  ##  ln . Line numbers are a common convention in poetic works, legal texts and programming code. 
  element lnum {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby)+)
    >> sch:rule [
         context = "default:lnum"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The lnum element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.lngroup =
  
  ## The lngroup element represents a group of 
  ##  lines . 
  element lngroup {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (z3998.annotation.phrase* & z3998.ln+)
  }
z3998.s =
  
  ## The s element represents a grammatical and/or lexical sentence. 
  element s {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.span
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num
      | z3998.quote.phrase
      | z3998.citation
      | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:s"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "not(descendant::default:s)"
           "The s element must not contain descendant s elements. "
         ]
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The s element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.w =
  
  ## The w element represents a single, possibly compound, lexical word. The 
  ##  role  attribute optionally expresses the semantic nature of the word. No implicit value is associated with the w element. 
  element w {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.w.role.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.wpart)+)
    >> sch:rule [
         context = "default:w"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The word element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.w.role.attrib =
  attribute role {
    list { CURIE.datatype+ }
  }
z3998.wpart =
  
  ## The wpart element represents a segment of a word. The wpart element is typically used to distinguish the parts of a word (root, stem and affix), compound word, portmanteau or homograph. It can also be used in grammatical contexts to identify morphemes, graphemes and other divisions and boundaries within a word. The wpart element additionally can be used in place of soft hyphens to identify line ending break locations, if external formatting options are limited. The 
  ##  role  attribute optionally expresses the semantic nature of the word part. No implicit value is associated with the wpart element. 
  element wpart {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (((text
       | z3998.object.text
       | z3998.sub
       | z3998.sup
       | z3998.span.text
       | z3998.emph.text
       | its-ruby)+
      | z3998.wpart)+)
    >> sch:rule [
         context = "default:wpart"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The wpart element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.abbr =
  
  ## The abbr element represents the abbreviated form of a phrase, term or name. The 
  ##  role  attribute optionally expresses whether the type of abbreviation. The 
  ##  expansion  and 
  ##  name  elements provide a mechanism for associating an abbreviation with its uncontracted form. When including an expansion, the ref attribute on the abbr element links the abbreviation to an expansion or name. The ref attribute can also be used to reference a 
  ##  definition  element when an explanatory definition of the abbreviation is also needed. 
  element abbr {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.abbr.role.attrib?,
    z3998.ref.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby)+)
    >> sch:rule [
         context = "default:abbr[@ref]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "some $exp in (//default:expansion, //default:name, //default:definition) satisfies current()/@ref eq $exp/@xml:id"
           "The ref attribute on an abbr element must resolve to an expansion, name or definition element. "
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:abbr"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The abbr element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.abbr.role.attrib =
  attribute role {
    list { CURIE.datatype+ }
  }
z3998.expansion =
  
  ## The expansion element represents the fully expanded form of an 
  ##  abbreviation . The expansion element requires an xml:id attribute with a unique identifier for linking from the associated abbreviation. Expansions that are not part of the document content must be placed in the document 
  ##  head . 
  element expansion {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((z3998.span
      | text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num)+)
    >> sch:rule [
         context = "default:expansion"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "not(descendant::default:expansion)"
           "The expansion element must not contain descendant expansion elements. "
         ]
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The expansion element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.code.block =
  
  ## The code element is intended for general instances of code as found in works of fiction and similar non-technical documents, which includes computer programming code, commands and command input/output as well as representations of numeric and text coding systems, such as Morse code. For computer programming books, manuals and specifications, specializing the code element or using a computer markup feature is recommended. 
  element code {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((z3998.code.lngroup | z3998.code.ln)+
     | (z3998.block | z3998.hd | z3998.p | z3998.object.block)+)
    >> sch:rule [
         context = "default:code"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The code element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.code.lngroup =
  
  ## The lngroup element for code represents a grouping of ln code elements. Lines of code may be grouped to show a section of a coded message, a computer program, methods within a program, to separate programs from sample input/output, etc. 
  element lngroup {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (z3998.code.ln+)
  }
z3998.code.ln =
  
  ## The ln element for the code element represents a single line of code. The 
  ##  lnum  element can be added at the start of the ln for code examples that include line numbers. 
  element ln {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (z3998.lnum?
     & (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby)+)
    >> sch:rule [
         context = "default:ln"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "not(descendant::default:ln)"
           "The ln element must not contain descendant ln elements. "
         ]
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The ln element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.code.phrase =
  
  ## The code element is intended for general instances of code as found in works of fiction and similar non-technical documents, which includes computer programming code, commands and command input/output as well as representations of numeric and text coding systems, such as Morse code. For computer programming books, manuals and specifications, specializing the code element or using a computer markup feature is recommended. 
  element code {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby)+)
    >> sch:rule [
         context = "default:code"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The code element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.emph =
  
  ## The emph element represents an author's emphasis. Emphasis is not restricted to italicized text, but may constitute any of a variety of typographical or styling means used to distinguish text, such as bolding, underlining, coloring, etc. Nested emph elements indicate extra emphasized segments within an emphasized segment. 
  element emph {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((z3998.span
      | text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num)+)
    >> sch:rule [
         context = "default:emph"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The emph element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.emph.text =
  
  ## The emph element represents an author's emphasis. Emphasis is not restricted to italicized text, but may constitute any of a variety of typographical or styling means used to distinguish text, such as bolding, underlining, coloring, etc. Nested emph elements indicate extra emphasized segments within an emphasized segment. 
  element emph {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby)+)
    >> sch:rule [
         context = "default:emph"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The emph element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.time =
  
  ## The time element represents a calendar or clock-based statement of time. If the value of the time element is not in a machine-readable format, the 
  ##  time  attribute optionally allows the inclusion of an alternate representation. 
  element time {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    z3998.time.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby)+)
    >> sch:rule [
         context = "default:time"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "not(descendant::default:time)"
           "The time element must not contain descendant time elements. "
         ]
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The time element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.time.attrib =
  
  ## The time attribute contains a calendar or clock-based statement of time expressed in machine-readable form. When this attribute appears on the 
  ##  time  element, it contains an alternate rendition of the element's content. The time attribute value must be valid to the 
  ##  Time.datatype  datatype. 
  attribute time {
    xsd:gYear
    | xsd:gYearMonth
    | xsd:gMonthDay
    | xsd:gDay
    | xsd:gMonth
    | xsd:date
    | xsd:time
    | xsd:dateTime
    | TimeNoSeconds.datatype
  }
z3998.name =
  
  ## The name element represents particular instances of names, places and things (proper nouns). The 
  ##  role  attribute optionally expresses the semantic nature of the proper noun. No implicit value is associated with the name element. 
  element name {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.name.role.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.abbr
      | z3998.span.text)+)
    >> sch:rule [
         context = "default:name"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The name element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.name.role.attrib =
  attribute role {
    list { CURIE.datatype+ }
  }
z3998.term =
  
  ## The term element represents a word, or compound word, characterized by its particular use and context. The addition of a 
  ##  ref  attribute establishes a link to a definition. The value of the ref attribute must reference the xml:id of a 
  ##  definition  element 
  element term {
    z3998.ref.attrib?,
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((z3998.span
      | text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num)+)
    >> sch:rule [
         context = "default:term"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The term element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
    >> sch:rule [
         context = "default:term[@ref]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "some $def in //default:definition satisfies current()/@ref eq $def/@xml:id"
           "The ref attribute on a term element must resolve to a definition. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.definition =
  
  ## The definition element represents a formal description of the meaning of a word, term, phrase, or other construct. The definition element requires an xml:id attribute with a unique identifier for linking from the associated term. Definitions that are not part of the document content may be placed in the document 
  ##  head . 
  element definition {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.span
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num
      | z3998.quote.phrase
      | z3998.citation
      | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:definition"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The definition element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.sub =
  
  ## The sub element represents instances of subscripted text. 
  element sub {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby)+)
    >> sch:rule [
         context = "default:sub"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The sub element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.sup =
  
  ## The sup element represents instances of superscripted text. 
  element sup {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby)+)
    >> sch:rule [
         context = "default:sup"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The sup element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.num =
  
  ## The num element represents a set of Arabic or Roman numerals that taken together indicate a single value or represent a single number in a standardized format. Examples of numbers include: cardinal and ordinal values, weights, measures, currency values, postal codes, telephone numbers, ISBN numbers, scores and results, etc. Where these values include units of measure or other symbols integral to their understanding, the units and symbols must be included as a part of the num element. The 
  ##  role  attribute optionally expresses the semantic nature of the number. If omitted, the implicit value cardinal is assumed. If the value of the num element is not in a machine-readable format, the 
  ##  num.value  attribute optionally allows the inclusion of an alternate representation. The MathML feature is intended for marking proper mathematical statements within documents and should be used in preference over the num element whenever equations, formulae or other formal mathematic constructs or operators are being marked. The num element must not be used to mark instances of dates and times. Refer to the 
  ##  time  element for more information. 
  element num {
    z3998.num.value.attrib?,
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.num.role.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby)+)
    >> sch:rule [
         context = "default:num"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The num element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.num.value.attrib =
  
  ## The value attribute provides the value of the num element in a machine-readable form. A processing agent's interpretation of the value depends on the specific type of numeral, as specified by the role attribute. 
  attribute value { NonEmptyString.datatype }
z3998.num.role.attrib =
  attribute role {
    list { CURIE.datatype+ }
  }
xml.id.attrib =
  
  ## The xml:id attribute specifies a unique identifier for the element. No two elements in an xml document can have the same xml:id, including inside components that are appended to the primary document by xinclude statements or other means. The semantics of this attribute are defined by 
  ##  refXMLID . 
  attribute xml:id { ID.datatype }
xml.space.attrib =
  
  ## The xml:space attribute indicates whether the whitespace within an element is significant. The semantics of this attribute are defined by 
  ##  refXML . Refer to 
  ##  White Space Handling  for more information. 
  attribute xml:space {
    
    ## Signals that applications' default white-space processing modes are acceptable for this element. 
    "default"
    | 
      ## Signals the intent that applications preserve white space for this element. 
      "preserve"
  }
xml.base.attrib =
  
  ## The xml:base attribute specifies a base URI to use for resolving relative URI references, for instances where the base URI of the document or external entity is not appropriate. The semantics and behaviors of this attribute are defined by 
  ##  refXMLBase . 
  attribute xml:base { URI.datatype }
z3998.class.attrib =
  
  ## The class attribute provides the ability to express general classifying or commonality between elements. This attribute inherits all the fundamental properties of the (X)HTML class attribute and is usable in the context of 
  ##  CSS styling . The class attribute is not used to inflect semantics or structure on elements or their contents. Refer to the 
  ##  role  attribute for more information on how to layer semantic meaning on elements. 
  attribute class { NMTOKENS.datatype }
xml.lang.attrib =
  
  ## The xml:lang attribute identifies the natural or formal language in which the content is written. The semantics of this attribute are defined by 
  ##  refXML . Refer to 
  ##  Language Identification  for more information. 
  attribute xml:lang {
    xsd:language
    | xsd:string { length = "0" }
  }
its.dir.attrib =
  
  ## The its:dir attribute specifies the base writing direction of the content. If omitted, the implicit value ltr (left-to-right) is assumed. The semantics of this attribute are defined by 
  ##  refITS . Refer to 
  ##  Directionality  for more information. 
  attribute its:dir {
    
    ## The writing direction is left-to-right. This is the implicit value of this attribute. 
    "ltr"
    | 
      ## The writing direction is right-to-left. 
      "rtl"
    | 
      ## The writing direction is left-to-right override. 
      "lro"
    | 
      ## The writing direction is right-to-left override. 
      "rlo"
  }
its.translate.attrib =
  
  ## The its:translate attribute indicates whether the content of an element is translatable or not. If omitted, the implicit value yes is assumed. The semantics of this attribute are defined by 
  ##  refITS . Refer to 
  ##  Translate  for more information. 
  attribute its:translate {
    
    ## The content is translatable. This is the default value of this attribute. 
    "yes"
    | 
      ## The content is not translatable. 
      "no"
  }
xlink.href.attrib =
  
  ## Identifies a link target with a Legacy extended IRI (
  ##  LeIRI ) 
  attribute xlink:href { URI.datatype }
xlink.type.attrib =
  
  ## Identifies the XLink link type In any Z39.98-AI profile and as defined by XLink 
  ##  Simple Conformance , the xlink type simple is the implied xlink type, and does therefore not need to be expressed literally using the 
  ##  xlink.type  attribute. 
  attribute xlink:type {
    
    ## The XLink simple link type 
    "simple"
  }
xlink.title.attrib =
  
  ## Identifies the XLink title of the link. 
  attribute xlink:title { text }
xlink.show.attrib =
  
  ## Identifies the XLink show behavior of the link 
  attribute xlink:show {
    
    ## An application traversing to the ending resource should load it in a new window, frame, pane, or other relevant presentation context. 
    "new"
    | 
      ## An application traversing to the ending resource should load the resource in the same window, frame, pane, or other relevant presentation context in which the starting resource was loaded. 
      "replace"
    | 
      ## An application traversing to the ending resource should load its presentation in place of the presentation of the starting resource. 
      "embed"
    | 
      ## The behavior of an application traversing to the ending resource is unconstrained by XLink. The application should look for other markup present in the link to determine the appropriate behavior. 
      "other"
    | 
      ## The behavior of an application traversing to the ending resource is unconstrained by this specification. No other markup is present to help the application determine the appropriate behavior. 
      "none"
  }
xlink.actuate.attrib =
  
  ## Identifies the XLink actuate behavior of the link 
  attribute xlink:actuate {
    
    ## An application should traverse to the ending resource immediately on loading the starting resource. 
    "onLoad"
    | 
      ## An application should traverse from the starting resource to the ending resource only on a post-loading event triggered for the purpose of traversal. 
      "onRequest"
    | 
      ## The behavior of an application traversing to the ending resource is unconstrained by this specification. The application should look for other markup present in the link to determine the appropriate behavior. 
      "other"
    | 
      ## The behavior of an application traversing to the ending resource is unconstrained by this specification. No other markup is present to help the application determine the appropriate behavior. 
      "none"
  }
z3998.depth.attrib =
  
  ## The depth attribute specifies the nesting depth of the current element in relation to ancestors of the same type. An element's name alone does not infer an ancestral relationship; the usage context is equally important. For example, the depth of the first index 
  ##  section  is not influenced by the number of structural 
  ##  sections  that may enclose the index. The outermost ancestor has the implied depth value 0. 
  attribute depth { NonNegativeInteger.datatype }
rdfa.prefix.attrib =
  
  ## The prefix attribute associates RDFa vocabulary namespace prefixes and URIs, as defined in 
  ##  RDFa Core 1.1 . The prefix attribute may optionally be attached to the root 
  ##  document  element. Z39.98-AI profiles must not allow the attribute to be attached to any other element. The prefix attribute must not be used to redefine prefixes or URIs declared in the default context document for the profile. 
  attribute prefix { rdfa.prefix.attrib.content }
rdfa.prefix.attrib.content =
  xsd:normalizedString {
    pattern =
      "\s*([\i-[:]][\c-[:]]*: +[^ ]+)(\s+[\i-[:]][\c-[:]]*: +[^ ]+)*\s*"
  }
rdfa.about.attrib =
  
  ## The about attribute specifies the subject of a relationship. If not given, then the subject is the current document. 
  attribute about {
    URI.datatype
    >> sch:rule [
         context = "*[@about and starts-with(@about,'#')]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "exists(//*[@xml:id eq substring-after(current()/@about,'#')])"
           "The fragment URI in the about attribute must resolve to an ID in the document. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
rdfa.content.attrib =
  
  ## The content attribute specifies a string to use as an object for the 
  ##  rdfa.property  attribute. 
  attribute content { text }
rdfa.datatype.attrib =
  
  ## The datatype attribute specifies a datatype of the object of the 
  ##  rdfa.property  attribute (either in the content attribute, or the content of the element that the datatype attribute is on.) By default, data in the content attribute is of type string, and data in the content of an element has type xml:Literal. If datatype="" is used, then for the RDF the element content is stripped of markup, and is of type string. 
  attribute datatype {
    CURIE.datatype
    >> sch:rule [
         context = "*[@datatype]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "every $prefix in substring-before(@datatype, ':') satisfies (key('rdfprefix', $prefix) or key('rdfprofile', $prefix) or $prefix='')"
           "The datatype attribute contains an undeclared CURIE prefix. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
rdfa.typeof.attrib =
  
  ## The typeof attribute creates a blank node, which becomes the subject, and asserts that the current element contains relationships that match the given RDF type. 
  attribute typeof {
    list { CURIE.datatype+ }
    >> sch:rule [
         context = "*[@typeof]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "every $curie in tokenize(@typeof, '\s+') satisfies ( (every $prefix in substring-before($curie, ':') satisfies (key('rdfprefix', $prefix) or key('rdfprofile', $prefix) or $prefix='')))"
           "The typeof attribute contains an undeclared CURIE prefix. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
rdfa.property.attrib =
  
  ## The property attribute defines a relationship between the subject and either a string (if the 
  ##  rdfa.content  attribute is present) or the content of the element that the property attribute is on. 
  attribute property {
    list { CURIE.datatype+ }
    >> sch:rule [
         context = "*[@property]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "every $curie in tokenize(@property, '\s+') satisfies ( (every $prefix in substring-before($curie, ':') satisfies (key('rdfprefix', $prefix) or key('rdfprofile', $prefix) or $prefix='')))"
           "The property attribute contains an undeclared CURIE prefix. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
rdfa.rel.attrib =
  
  ## The rel attribute defines a relation between the subject and a URL given by the 
  ##  rdfa.resource  attribute. The 
  ##  rdfa.rev  attribute expresses the inverse relation. 
  attribute rel {
    list { CURIE.datatype+ }
    >> sch:rule [
         context = "*[@rel]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "every $curie in tokenize(@rel, '\s+') satisfies ( (every $prefix in substring-before($curie, ':') satisfies (key('rdfprefix', $prefix) or key('rdfprofile', $prefix) or $prefix='')))"
           "The rel attribute contains an undeclared CURIE prefix. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
rdfa.resource.attrib =
  
  ## The resource attribute specifies an object URI for the 
  ##  rdfa.rev  and 
  ##  rdfa.rel  attributes, if the attribute href is not present. 
  attribute resource { URI.datatype }
rdfa.rev.attrib =
  
  ## The rev attribute defines a relation between the subject and a URL given by the 
  ##  rdfa.resource  attribute. The 
  ##  rdfa.rel  attribute expresses the inverse relation. 
  attribute rev {
    list { CURIE.datatype+ }
    >> sch:rule [
         context = "*[@rev]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "every $curie in tokenize(@rev, '\s+') satisfies ( (every $prefix in substring-before($curie, ':') satisfies (key('rdfprefix', $prefix) or key('rdfprofile', $prefix) or $prefix='')))"
           "The rev attribute contains an undeclared CURIE prefix. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.role.attrib =
  
  ## The role attribute expresses a semantic inflection on the nature or purpose of its parent element. The attribute takes as its value one or more whitespace separated CURIEs 
  ##  refRDFa11 , that must be bound to one or more RDF vocabularies either defined in the RDFa initial context document or by the 
  ##  rdfa.prefix  attribute. The role attribute is intended to be functionally compatible with the WAI-PF role attribute (
  ##  refROLE ) in its expression of document metadata to improve the accessibility of documents marked up to Z39.98-AI profiles. 
  attribute role {
    list { CURIE.datatype+ }
    >> sch:rule [
         context = "*[@role]"
         "\x{a}" ~
         "                "
         sch:assert [
           test =
             "every $curie in tokenize(@role, '\s+') satisfies ( (every $prefix in substring-before($curie, ':') satisfies (key('rdfprefix', $prefix) or key('rdfprofile', $prefix) or $prefix='')))"
           "The role attribute contains an undeclared CURIE prefix. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.by.attrib =
  
  ## The by attribute expresses the contributor of an element to the document source, such as the author, editor, a republisher, etc. The by attribute allows a single CURIE as its value, which must be bound to an RDF property using the mechanism defined in 
  ##  CURIE . All descendants of an element that declares a by attribute value implicitly inherit that value. In the absence of an expressed relationship, the implicit value author is assumed. 
  attribute by {
    list { CURIE.datatype+ }
  }
z3998.article =
  
  ## The article element represents an article in an electronic or print journal, magazine, news source or encyclopedia. The simplest use for the article element is as a specialization of the 
  ##  section  element for reproducing full articles or extracts. It is additionally possible to include 
  ##  article.head  and 
  ##  article.body  children for more formally structured articles. 
  element article {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.article.head,
    z3998.article.body
  }
z3998.article.head =
  
  ## The article head element contains meta information about the complete or partial article contained in the enclosing article element. The meta information in the article head element is not document content in the context of Z39.98-AI documents, but may be used for display and other purposes when rendering documents into alternate formats. 
  element head {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.meta+
  }
z3998.article.body =
  
  ## The article body element contains the complete or partial content of the 
  ##  article . 
  element body {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    (((z3998.h
       & (z3998.hd
          | z3998.block
          | z3998.p
          | z3998.list
          | z3998.table
          | z3998.quote.block
          | z3998.citation.block
          | z3998.object.block
          | z3998.address
          | z3998.annotation
          | z3998.caption
          | z3998.code.block
          | z3998.description
          | z3998.feature.description)+
       & z3998.byline?
       & z3998.dateline?),
      z3998.article.section*)
     | ((z3998.h
         & (z3998.hd
            | z3998.block
            | z3998.p
            | z3998.list
            | z3998.table
            | z3998.quote.block
            | z3998.citation.block
            | z3998.object.block
            | z3998.address
            | z3998.annotation
            | z3998.caption
            | z3998.code.block
            | z3998.description
            | z3998.feature.description)*
         & z3998.byline?
         & z3998.dateline?),
        z3998.article.section+))
  }
z3998.article.section =
  
  ## The article section element represents a major structural division in an 
  ##  article . The article section element is a specialization of the 
  ##  section  element. It provides a content model to fit the unique requirements of article divisions. 
  element section {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    (((z3998.h?
       & (z3998.hd
          | z3998.block
          | z3998.p
          | z3998.list
          | z3998.table
          | z3998.quote.block
          | z3998.citation.block
          | z3998.object.block
          | z3998.address
          | z3998.annotation
          | z3998.caption
          | z3998.code.block
          | z3998.description
          | z3998.feature.description)+),
      z3998.article.section*)
     | ((z3998.h?
         & (z3998.hd
            | z3998.block
            | z3998.p
            | z3998.list
            | z3998.table
            | z3998.quote.block
            | z3998.citation.block
            | z3998.object.block
            | z3998.address
            | z3998.annotation
            | z3998.caption
            | z3998.code.block
            | z3998.description
            | z3998.feature.description)*),
        z3998.article.section+))
  }
z3998.byline =
  
  ## The byline element represents the byline used to establish the author(s) of a news or journal article, an entry in an encyclopaedic reference, or similar. Bylines typically occur on a separate line immediately after the headline in print articles. 
  element byline {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.span
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num
      | z3998.quote.phrase
      | z3998.citation
      | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:byline"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The byline element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.dateline =
  
  ## The dateline element represents the creation date and/or time of a news article, diary entry, poem, etc. Datelines typically occur on their own line and include a date and location. For dates and times expressed within the narrative flow of a document, refer to the 
  ##  time  element. 
  element dateline {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.span
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num
      | z3998.quote.phrase
      | z3998.citation
      | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "default:dateline"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The dateline element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.feature.description =
  
  ## The description element is the root container element for a description. It consists of an optional container element for metadata information (the 
  ##  head ) and a required container for the different description types and alternate image renditions (the 
  ##  body ). The language of the description can be specified by attaching an 
  ##  xml.lang  attribute to the description element. If the description will be made available in a standalone context (i.e., in which its language cannot be inherited from a host content document), the language should always be specified. The 
  ##  DIAGRAM Description profile  provides the ability to compile one or more description elements into a single document for distribution (e.g., to accompany an EPUB). When storing a description in a standalone context, the Description feature namespace http://www.daisy.org/ns/z3998/authoring/features/description/ should be declared on the description element using the xmlns namespace association mechanism defined in 
  ##  refXMLNamespaces . Although not required, the prefix d is recommended. 
  element d:description {
    xml.id.attrib?,
    xml.lang.attrib?,
    xml.base.attrib?,
    z3998.feature.description.head?,
    z3998.feature.description.body
  }
z3998.feature.description.head =
  
  ## The description head element contains meta information about the enclosing 
  ##  description  element. The meta information in the description head element should not be treated as document content, but may be used for display and other purposes when rendering descriptions. Although all metadata is optional, descriptions should, at a minimum, include an identifier, the intended reader age and/or school grade level. See the 
  ##  DIAGRAM Descriptions Vocabulary  for a set of predefined RDF properties. Properties from other RDF vocabularies can also be included, provided their prefix is declared. If age and grade-level metadata is omitted, the containing description should be assumed to be applicable to all readers. 
  element d:head {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.meta+
  }
z3998.feature.description.body =
  
  ## The description body element contains the accessible description forms that readers can select from depending on their needs. The description body must minimally contain the primary description of the associated content in a child 
  ##  longdesc  element. The description body may also optionally compliment the primary description with a briefer 
  ##  summary  and a 
  ##  simplified language representation . The body of the description can also be used to carry alternative images for readers unable to adequately interact with the source image. The 
  ##  tactile  element can be used to include a tactile image and accompanying 
  ##  tour , and the 
  ##  simplifiedImage  element can be used to include images more accessible to various reader needs. 
  element d:body {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    (z3998.feature.description.body.summary?
     & z3998.feature.description.body.longdesc
     & z3998.feature.description.body.simplifiedLanguageDescription*
     & z3998.feature.description.body.tactile*
     & z3998.feature.description.body.simplifiedImage*
     & z3998.annotation*)
  }
z3998.feature.description.body.summary =
  
  ## The summary element contains a shorter, more succinct version of the primary description in the 
  ##  longdesc  element. 
  element d:summary {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby
      | z3998.span
      | z3998.ref
      | z3998.object.phrase
      | z3998.address.phrase
      | z3998.annoref
      | z3998.ln
      | z3998.s
      | z3998.w
      | z3998.w
      | z3998.expansion
      | z3998.abbr
      | z3998.code.phrase
      | z3998.emph
      | z3998.time
      | z3998.name
      | z3998.term
      | z3998.definition
      | z3998.num
      | z3998.quote.phrase
      | z3998.citation
      | z3998.annotation.phrase)+
     | z3998.hd
     | z3998.block
     | z3998.p
     | z3998.list
     | z3998.table
     | z3998.quote.block
     | z3998.citation.block
     | z3998.object.block
     | z3998.address
     | z3998.annotation
     | z3998.caption
     | z3998.code.block)
    >> sch:rule [
         context = "d:summary"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The summary element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.feature.description.body.longdesc =
  
  ## The longdesc element contains the primary description of the associated image, graphic or visually-oriented structure. The longdesc should contain a comprehensive explanation of the referenced item. See the 
  ##  summary  element for information on how to include a compact description. 
  element d:longdesc {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((z3998.hd
      | z3998.block
      | z3998.p
      | z3998.list
      | z3998.table
      | z3998.quote.block
      | z3998.citation.block
      | z3998.object.block
      | z3998.address
      | z3998.annotation
      | z3998.caption
      | z3998.code.block
      | z3998.description
      | z3998.feature.description)+
     | (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby
        | z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase)+)
    >> sch:rule [
         context = "d:longdesc"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The longdesc element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.feature.description.body.simplifiedLanguageDescription =
  
  ## The simplifiedLanguageDescription element contains a simplified language version of the primary description in the 
  ##  longdesc  element. 
  element d:simplifiedLanguageDescription {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (z3998.feature.description.body.about?,
     ((z3998.hd
       | z3998.block
       | z3998.p
       | z3998.list
       | z3998.table
       | z3998.quote.block
       | z3998.citation.block
       | z3998.object.block
       | z3998.address
       | z3998.annotation
       | z3998.caption
       | z3998.code.block
       | z3998.description
       | z3998.feature.description)+
      | (text
         | z3998.object.text
         | z3998.sub
         | z3998.sup
         | z3998.span.text
         | z3998.emph.text
         | its-ruby
         | z3998.span
         | z3998.ref
         | z3998.object.phrase
         | z3998.address.phrase
         | z3998.annoref
         | z3998.ln
         | z3998.s
         | z3998.w
         | z3998.w
         | z3998.expansion
         | z3998.abbr
         | z3998.code.phrase
         | z3998.emph
         | z3998.time
         | z3998.name
         | z3998.term
         | z3998.definition
         | z3998.num
         | z3998.quote.phrase
         | z3998.citation
         | z3998.annotation.phrase)+))
    >> sch:rule [
         context = "d:simplifiedLanguageDescription"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The simplifiedLanguageDescription element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.feature.description.body.about =
  
  ## The about element provides a brief, human-readable explanation of the nature of its parent (e.g., the file format, resolution, audience, etc.). The element is intended to provide a label for end users of the content -- for example, to explain the format of the content to facilitate content selection. 
  element d:about {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((text
      | z3998.object.text
      | z3998.sub
      | z3998.sup
      | z3998.span.text
      | z3998.emph.text
      | its-ruby)+)
    >> sch:rule [
         context = "d:about"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The about element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
z3998.feature.description.body.tactile =
  
  ## The tactile element contains an alternative tactile image. The element may contain one or more identical images for different production methods (e.g., one for swell paper production and another for stereolithograph printing). The tactile image may also include an explanatory 
  ##  tour . This specification does not place any restrictions on the format used to represent the tactile image, but images should be final-form representations for output rendering by end users. The 
  ##  role  attribute should be used to differentiate the production use for each image. 
  element d:tactile {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (z3998.feature.description.body.about?,
     (z3998.object.block | z3998.feature.description.braille)+,
     z3998.feature.description.tour?)
  }
z3998.feature.description.braille =
  
  ## The braille element contains an alternative braille representation. It may contain preformatted braille text, or embed a format such as PEF. 
  element d:braille {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    z3998.feature.description.brlFormat.attrib?,
    ((anyContent.null | text)*)
    >> sch:rule [
         context = "d:braille"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "normalize-space(.) or *"
           "The braille element must neither be empty nor contain only whitespace. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
anyContent.null.null = attribute * { text }
anyContent.null =
  element * { anyContent.null.null*, (anyContent.null | text)* }
z3998.feature.description.brlFormat.attrib =
  
  ## The brlFormat attribute expresses processing information for a 
  ##  feature.description.braille  element. The attribute takes as its value one or more tokens. 
  attribute brlFormat { NMTOKENS.datatype }
z3998.feature.description.tour =
  
  ## The tour element is associated with a tactile graphic or a simplified alternative image, and provides orientation. In addition, the tour can explain how to explore the tactile or simplified image. 
  element d:tour {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((z3998.hd
      | z3998.block
      | z3998.p
      | z3998.list
      | z3998.table
      | z3998.quote.block
      | z3998.citation.block
      | z3998.object.block
      | z3998.address
      | z3998.annotation
      | z3998.caption
      | z3998.code.block
      | z3998.description
      | z3998.feature.description)+
     | (text
        | z3998.object.text
        | z3998.sub
        | z3998.sup
        | z3998.span.text
        | z3998.emph.text
        | its-ruby
        | z3998.span
        | z3998.ref
        | z3998.object.phrase
        | z3998.address.phrase
        | z3998.annoref
        | z3998.ln
        | z3998.s
        | z3998.w
        | z3998.w
        | z3998.expansion
        | z3998.abbr
        | z3998.code.phrase
        | z3998.emph
        | z3998.time
        | z3998.name
        | z3998.term
        | z3998.definition
        | z3998.num
        | z3998.quote.phrase
        | z3998.citation
        | z3998.annotation.phrase)+)
  }
z3998.feature.description.body.simplifiedImage =
  
  ## The simplifiedImage element contains a simplified version of the source image. The element may contain one or more identical images in different formats. The simplified image may also include an explanatory 
  ##  tour . 
  element d:simplifiedImage {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (z3998.feature.description.body.about?,
     z3998.object.block+,
     z3998.feature.description.tour?)
  }
its-ruby =
  
  ## The container for ruby markup declarations. The its:ruby element contains either 
  ##  simple  or 
  ##  complex  ruby markup. Refer to 
  ##  ITS Ruby  for further information. 
  
  ## Ruby markup. 
  element its:ruby {
    ((its-rb,
      (its-rt | (its-rp, its-rt, its-rp)))
     | (its-rbc, its-rtc, its-rtc?)),
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?
  }
its-rb =
  
  ## Contains the base text. Refer to 
  ##  ITS Ruby  for further information. 
  element its:rb {
    (text
     | z3998.object.text
     | z3998.sub
     | z3998.sup
     | z3998.span.text
     | z3998.emph.text
     | its-ruby
     | z3998.span
     | z3998.ref
     | z3998.object.phrase
     | z3998.address.phrase
     | z3998.annoref
     | z3998.ln
     | z3998.s
     | z3998.w
     | z3998.w
     | z3998.expansion
     | z3998.abbr
     | z3998.code.phrase
     | z3998.emph
     | z3998.time
     | z3998.name
     | z3998.term
     | z3998.definition
     | z3998.num
     | z3998.quote.phrase
     | z3998.citation
     | z3998.annotation.phrase)+,
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    (z3998.continuation.attrib?)
    >> sch:rule [
         context = "its:rb"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "not(descendant::its:ruby)"
           "The its:rb element must not contain its:ruby descendants. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
its-rt =
  
  ## Contains the ruby text. Refer to 
  ##  ITS Ruby  for further information. 
  element its:rt {
    (text
     | z3998.object.text
     | z3998.sub
     | z3998.sup
     | z3998.span.text
     | z3998.emph.text
     | its-ruby
     | z3998.span
     | z3998.ref
     | z3998.object.phrase
     | z3998.address.phrase
     | z3998.annoref
     | z3998.ln
     | z3998.s
     | z3998.w
     | z3998.w
     | z3998.expansion
     | z3998.abbr
     | z3998.code.phrase
     | z3998.emph
     | z3998.time
     | z3998.name
     | z3998.term
     | z3998.definition
     | z3998.num
     | z3998.quote.phrase
     | z3998.citation
     | z3998.annotation.phrase)+,
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    (its.rbspan.attrib?)
    >> sch:rule [
         context = "its:rt"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "not(descendant::its:ruby)"
           "The its:rt element must not contain its:ruby descendants. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
its.rbspan.attrib =
  
  ## Allows an its:rt element to span multiple its:rb elements in 
  ##  complex ruby markup . If omitted, the implicit value 1 is assumed.. Refer to 
  ##  ITS Ruby  for further information. 
  attribute rbspan {
    NonNegativeInteger.datatype
    >> sch:rule [
         context = "its:rt[@rbspan]"
         "\x{a}" ~
         "                "
         sch:assert [
           test = "not(parent::its:ruby)"
           "The rbspan attribute must not be used on the its:rt element in simple ruby markup. "
         ]
         "\x{a}" ~
         "            "
       ]
  }
its-rbc =
  
  ## Container for its:rb elements in 
  ##  complex ruby markup . Refer to 
  ##  ITS Ruby  for further information. 
  element its:rbc {
    its-rb+,
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?
  }
its-rtc =
  
  ## Container for its:rt elements in 
  ##  complex ruby markup . Refer to 
  ##  ITS Ruby  for further information. 
  element its:rtc {
    its-rt+,
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?
  }
its-rp =
  
  ## Ruby text beginning and end marker This element is used in the case of 
  ##  simple ruby markup  to specify characters that denote the beginning and end of ruby text when user agents do not have other ways to present ruby text distinctively from the base text. Refer to 
  ##  ITS Ruby  for further information. 
  element its:rp {
    text,
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?
  }

## An ID TokenizedType, as defined in section 3.3.1 of 
##  refXML . 
ID.datatype = xsd:NCName

## An IDREF TokenizedType, as defined in section 3.3.1 of 
##  refXML . 
IDREF.datatype = xsd:NCName

## A space-separated list of 
##  NMTOKEN.datatype  TokenizedTypes. 
NMTOKENS.datatype = xsd:NMTOKENS

## An XML non-colonized Name, as defined in section 3.3.7 of 
##  refXML . 
NCName.datatype = xsd:NCName

## Specifies a value that must contain at least one non-whitespace character after whitespace normalization rules have been applied to the attribute value, as expressed through the 
##  XSD  normalizedString datatype. 
NonEmptyString.datatype = xsd:token { minLength = "1" }

## A derivation of the 
##  XSD  time datatype that only includes hour and minute specifications. The lexical expression is hh:mm. 
TimeNoSeconds.datatype = xsd:string { pattern = "\d\d:\d\d" }

## A non-negative integer. 
NonNegativeInteger.datatype =
  xsd:nonNegativeInteger { pattern = "[0-9]+" }

## An integer. 
Integer.datatype = xsd:integer

## A Uniform Resource Identifier Reference, as defined by the anyURI type in 
##  refXMLSchemaPart2 . 
URI.datatype = xsd:anyURI

## A single CURIE, as defined in 
##  refRDFa11 . 
CURIE.datatype =
  xsd:string { pattern = "(([\i-[:]][\c-[:]]*)?:)?[\i-[:]][\c-[:]]*" }
z3998.table.tr.tr =
  
  ## The tr element represents a single 
  ##  table  row of data. 
  element tr {
    xml.id.attrib?,
    xml.space.attrib?,
    xml.base.attrib?,
    z3998.class.attrib?,
    xml.lang.attrib?,
    its.dir.attrib?,
    its.translate.attrib?,
    rdfa.about.attrib?,
    rdfa.content.attrib?,
    rdfa.datatype.attrib?,
    rdfa.typeof.attrib?,
    rdfa.property.attrib?,
    rdfa.rel.attrib?,
    rdfa.resource.attrib?,
    rdfa.rev.attrib?,
    z3998.desc.attrib?,
    z3998.by.attrib?,
    z3998.role.attrib?,
    z3998.continuation.attrib?,
    ((z3998.table.th | z3998.table.td)+)
  }
